{"version":3,"sources":["../../sources/js/seoclick_forms.js"],"names":["renderRecaptcha","jQuery","$","each","index","captcha","widgetId","grecaptcha","render","data","submitSeoclickForm","token","module_id","getCookie","deleteCookie","submit","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","options","expires","d","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propName","propValue","ready","inputs","sitePattern","phonePattern","emailPattern","forms","default_site_tooltip_text","mod_seoclick_forms_language_variables","default_email_tooltip_text","default_phone_tooltip_text","createCustomFileInputs","form","find","setEvents","on","validateForm","input","customInput","siblings","customFileList","click","e","preventDefault","trigger","change","filesList","files","filesNames","length","text","i","attr","checkInputPatterns","def_pattern","def_tooltip_text","pattern","tooltip","response","command","container","closest","after","next","hide","show","css","top","getBoundingClientRect","bottom","left","animate","opacity","input_obj","data_type","validation","checkPasteText","checkPressedKey","check","checkPattern","val","removeClass","event","originalEvent","clipboardData","getData","getPattern","test","ctrlKey","altKey","metaKey","chr","getChar","code","which","keyCode","String","fromCharCode","charCode","inputData","addClass","checkFiles","responce","message","valid","file","file_size","size","max_size","file_size_error","file_size_error_text_1","file_size_error_text_2","file_size_error_text_3","Math","round","file_size_error_text_4","formData","FormData","formParams","window","formContainer","messageBox","files_data","recaptchaResponce","Number","recaptchaEnabled","recaptchaType","captchaWidgetID","getResponse","execute","html","captcha_validation_error","append","serializeArray","key","hasClass","scrollTop","offset","sendData","sending_text","ajax","type","processData","contentType","success","respond","error","jqXHR","textStatus","complete","reset"],"mappings":"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","file":"seoclick_forms.js","sourcesContent":["let renderRecaptcha = function () {\r\n    jQuery(function ($) {\r\n        $.each($('.g-recaptcha.seoclick'), function (index, captcha) {\r\n            var widgetId = grecaptcha.render(captcha);\r\n\r\n            $(captcha).data('recaptcha-widget-id', widgetId);\r\n        });\r\n    });\r\n};\r\n\r\nfunction submitSeoclickForm(token){\r\n\r\n    var module_id = getCookie('seoclick_send_form_id');\r\n\r\n    deleteCookie('seoclick_send_form_id');\r\n    jQuery(`#${module_id} form`).submit();\r\n}\r\n// возвращает cookie с именем name, если есть, если нет, то undefined\r\nfunction getCookie(name) {\r\n    let matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\nfunction setCookie(name, value, options) {\r\n    options = options || {};\r\n\r\n    let expires = options.expires;\r\n\r\n    if (typeof expires === \"number\" && expires) {\r\n        let d = new Date();\r\n        d.setTime(d.getTime() + expires * 1000);\r\n        expires = options.expires = d;\r\n    }\r\n    if (expires && expires.toUTCString) {\r\n        options.expires = expires.toUTCString();\r\n    }\r\n\r\n    value = encodeURIComponent(value);\r\n\r\n    let updatedCookie = name + \"=\" + value;\r\n\r\n    for (let propName in options) {\r\n        updatedCookie += \"; \" + propName;\r\n        let propValue = options[propName];\r\n        if (propValue !== true) {\r\n            updatedCookie += \"=\" + propValue;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\nfunction deleteCookie(name) {\r\n    setCookie(name, \"\", {\r\n        expires: -1\r\n    })\r\n}\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    let inputs,\r\n        sitePattern = \"^[\\\\w \\\\.]+[\\\\.]{1}[\\\\D]{2,4}$\",\r\n        phonePattern = \"^[\\\\+ \\\\- \\\\( \\\\d \\\\) \\\\s]{7,}\",\r\n        emailPattern = \"^[\\\\w \\\\.]+[@]{1}[\\\\w]+[\\\\.]{1}[\\\\D]{2,4}$\",\r\n        forms = $(\".seoclick-forms .form-validate\"),\r\n        default_site_tooltip_text = mod_seoclick_forms_language_variables.default_site_tooltip_text,\r\n        default_email_tooltip_text = mod_seoclick_forms_language_variables.default_email_tooltip_text,\r\n        default_phone_tooltip_text = mod_seoclick_forms_language_variables.default_phone_tooltip_text;\r\n\r\n    createCustomFileInputs();\r\n\r\n    $.each(forms, function (index, form) {\r\n\r\n        //получаем валиируемые поля формы\r\n        inputs = $(form).find(\".validate\");\r\n\r\n        //вызываем функцию установки обработчиков на поля формы\r\n        setEvents(inputs);\r\n        //вешам обработчик отправки формы\r\n        $(form).on(\"submit\", validateForm);\r\n    });\r\n\r\n    function createCustomFileInputs(){\r\n\r\n        $.each($('.seoclick-forms .file-input'), function(index, input){\r\n\r\n            var customInput = $(input).siblings('.custom-fileinput'),\r\n                customFileList = $(input).siblings('.custom-filelist');\r\n\r\n            customInput.click(function(e){\r\n\r\n                e.preventDefault();\r\n                $(input).trigger('click');\r\n            });\r\n            $(input).change(function(){\r\n\r\n                var filesList = input.files,\r\n                    filesNames = '';\r\n\r\n                switch (filesList.length) {\r\n\r\n                    case 0:\r\n                        customFileList.text(customFileList.data('nofile'));\r\n                        break;\r\n                    case 1:\r\n                        customFileList.text(customFileList.data('file') + filesList[0].name);\r\n                        break;\r\n                    default:\r\n                        customFileList.text(customFileList.data('files') + ' ' + filesList.length);\r\n                        for(var i = 0; i < filesList.length; i++ ){\r\n                            filesNames += filesList[i].name;\r\n                            if(i + 1 !== filesList.length) filesNames += ', '\r\n                        }\r\n                        customFileList.attr('title', filesNames);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /*\r\n    * Функция проверяет атрибуты pattern и data-tooltip\r\n    * и в случае их отсутсвия присваивает им значения\r\n    * по умолчанию при их наличии и возвращает true\r\n    * иначе false\r\n    * */\r\n    function checkInputPatterns(input, def_pattern, def_tooltip_text) {\r\n\r\n        let pattern = input.attr(\"pattern\"),\r\n            tooltip = input.data(\"tooltip\"),\r\n            response = {pattern: false, tooltip: false};\r\n\r\n        if (pattern === undefined) {\r\n            if (def_pattern !== undefined) {\r\n                input.attr(\"pattern\", def_pattern);\r\n                response.pattern = true;\r\n            } else {\r\n                response.pattern = false;\r\n            }\r\n        } else {\r\n            response.pattern = true;\r\n        }\r\n\r\n        if (tooltip === undefined) {\r\n            if (def_tooltip_text !== undefined) {\r\n                input.data(\"tooltip\", def_tooltip_text);\r\n                response.tooltip = true;\r\n            } else {\r\n                response.tooltip = false;\r\n            }\r\n        } else {\r\n            response.tooltip = true;\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n    /*\r\n    * Функция управления подсказками\r\n    * */\r\n    function tooltip(input, command) {\r\n\r\n        let container = input.closest('.form-validate');\r\n\r\n        switch (command) {\r\n            case 'create':\r\n                input.after(\"<div class='invalid-tooltip'><div>\" + input.data(\"tooltip\") + \"</div></div>\");\r\n                input.next().hide();\r\n                break;\r\n            case 'show':\r\n                input.next().show();\r\n                input.next().css({\r\n                    top: input[0].getBoundingClientRect().bottom - container[0].getBoundingClientRect().top + 8,\r\n                    left: input[0].getBoundingClientRect().left - container[0].getBoundingClientRect().left\r\n                });\r\n                input.next().animate({\r\n                    opacity: 1\r\n                }, 300, () => {\r\n                    input.next().show();\r\n                });\r\n                break;\r\n            case 'hide':\r\n                input.next().animate({\r\n                    opacity: 0\r\n                }, 300, () => {\r\n                    input.next().hide();\r\n                });\r\n                break;\r\n        }\r\n    }\r\n\r\n    //функция установки обработчиков полей формы\r\n    function setEvents(inputs) {\r\n\r\n        $.each(inputs, function (index, input) {\r\n\r\n            let input_obj = $(input),\r\n                data_type = input_obj.attr(\"data-validate\"),\r\n                validation;\r\n\r\n            //устанавливвваем шаблоны для полей формы\r\n            switch (data_type) {\r\n                case \"site\":\r\n                    validation = checkInputPatterns(input_obj, sitePattern, default_site_tooltip_text);\r\n                    break;\r\n                case \"email\":\r\n                    validation = checkInputPatterns(input_obj, emailPattern, default_email_tooltip_text);\r\n                    break;\r\n                case \"phone\":\r\n                    validation = checkInputPatterns(input_obj, phonePattern, default_phone_tooltip_text);\r\n                    input_obj.on(\"paste\", checkPasteText);\r\n                    input_obj.on(\"keypress\", checkPressedKey);\r\n                    break;\r\n                default:\r\n                    validation = checkInputPatterns(input_obj);\r\n                    if (!validation.tooltip && !validation.pattern) return true;\r\n            }\r\n            if (validation.tooltip) {\r\n                tooltip(input_obj, 'create');\r\n                input_obj.on(\"mouseenter\", function () {\r\n                    tooltip(input_obj, 'show');\r\n                });\r\n                input_obj.on(\"focusout mouseleave\", function () {\r\n\r\n                    tooltip(input_obj, 'hide');\r\n                });\r\n            }\r\n            //устанавливаем обработчик на проверку вводимых данных\r\n            if (validation.pattern) {\r\n                input_obj.on(\"change keyup\", function () {\r\n\r\n                    let check = checkPattern($(this));\r\n\r\n                    if (validation.tooltip) {\r\n                        if (!check) {\r\n                            tooltip(input_obj, 'show');\r\n                        } else {\r\n                            tooltip(input_obj, 'hide');\r\n                        }\r\n                    }\r\n                });\r\n                input_obj.on(\"focusout mouseleave\", function () {\r\n\r\n                    if (input_obj.val() === '') {\r\n                        input_obj.removeClass('invalid');\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    //функция проверки вставленные данные в поле формы по шаблону\r\n    function checkPasteText(event) {\r\n        let pattern,\r\n            data = event.originalEvent.clipboardData.getData('text/plain');\r\n\r\n        pattern = getPattern($(this));\r\n\r\n        //проверка данных по шаблону\r\n        if (!pattern.test(data)) {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    /*\r\n    * функция проверки нажатой клавиши\r\n    * Функция возвращет false на все клавиши,\r\n    * кроме цифр, знаков + - ( ) и пробелов\r\n    */\r\n    function checkPressedKey(event) {\r\n\r\n        let e = event;\r\n\r\n        if (e.ctrlKey || e.altKey || e.metaKey) {\r\n            return;\r\n        }\r\n\r\n        let chr = getChar(e);\r\n\r\n        // с null надо осторожно в неравенствах, т.к. например null >= '0' => true!\r\n        // на всякий случай лучше вынести проверку chr = null отдельно\r\n        if (chr === null) {\r\n            return;\r\n        }\r\n\r\n        if (chr < '0' || chr > '9') {\r\n            if (chr !== \"+\" && chr !== \"-\" && chr !== \"(\" && chr !== \")\" && chr !== \" \") {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    //функция возвращает код символа\r\n    function getChar(event) {\r\n\r\n        if (event.code === \"Space\" || event.code === \"Equal\" || event.code === \"Digit9\" || event.code === \"Digit0\") {\r\n            return 0;\r\n        }\r\n        if (event.which === null) { // IE\r\n            if (event.keyCode < 32) return null; // спец. символ\r\n            return String.fromCharCode(event.keyCode)\r\n        }\r\n\r\n        if (event.which !== 0 && event.charCode !== 0) { // все кроме IE\r\n            if (event.which < 32) return null; // спец. символ\r\n            return String.fromCharCode(event.which); // остальные\r\n        }\r\n\r\n        return null; // спец. символ\r\n    }\r\n\r\n    /*\r\n    * Функция проверки введенных данных по шаблону\r\n    * возвращает false если проверка не пройдена\r\n    */\r\n    function checkPattern(inputData) {\r\n\r\n        let value = inputData.val(), pattern;\r\n\r\n        pattern = new RegExp(inputData.attr(\"pattern\"));\r\n\r\n        //проверка данных по шаблону\r\n        if (!pattern.test(value)) {\r\n            inputData.addClass(\"invalid\");\r\n            return false;\r\n        } else {\r\n            inputData.removeClass(\"invalid\");\r\n            return true;\r\n        }\r\n    }\r\n\r\n    //Валидация вложений формы\r\n    function checkFiles(files, form) {\r\n\r\n\r\n        let responce = {message: \"\", valid: true};\r\n\r\n        $.each(files, function (index, file) {\r\n\r\n            let file_size = file.size / 1000, max_size = form.find(\".file-input\").data(\"size\");\r\n\r\n            if (file_size > max_size) {\r\n\r\n                responce.message = mod_seoclick_forms_language_variables.file_size_error.file_size_error_text_1 + file.name + mod_seoclick_forms_language_variables.file_size_error.file_size_error_text_2 + max_size + mod_seoclick_forms_language_variables.file_size_error.file_size_error_text_3 +\r\n\r\n                    Math.round(file_size) + mod_seoclick_forms_language_variables.file_size_error.file_size_error_text_4;\r\n                responce.valid = false;\r\n\r\n                return responce;\r\n            }\r\n        });\r\n\r\n        return responce;\r\n    }\r\n\r\n    //Валидация формы\r\n    function validateForm(event) {\r\n\r\n        event.preventDefault();\r\n\r\n        let data,\r\n            formData = new FormData(),\r\n            form = $(this),\r\n            formParams = window[form.data(\"moduleid\")],\r\n            formContainer = form.closest(\".seoclick-forms\"),\r\n            messageBox = formContainer.find(\".message-container\"),\r\n            files_data = form.find('.file-input')[0],\r\n            recaptchaResponce;\r\n\r\n        if (Number(formParams.recaptchaEnabled)){\r\n\r\n            if (formParams.recaptchaType === 'invisible'){\r\n                formParams.captchaWidgetID = $(\".invisible-recaptcha\").data(\"recaptcha-widget-id\");\r\n\r\n                recaptchaResponce = grecaptcha.getResponse(formParams.captchaWidgetID);\r\n                if(recaptchaResponce=== \"\"){\r\n\r\n                    setCookie(\"seoclick_send_form_id\", form.data(\"moduleid\"));\r\n                    grecaptcha.execute(formParams.captchaWidgetID);\r\n\r\n                    return false;\r\n                }\r\n            }else{\r\n                formParams.captchaWidgetID = form.find(\".g-recaptcha\").data(\"recaptcha-widget-id\");\r\n                recaptchaResponce = grecaptcha.getResponse(formParams.captchaWidgetID);\r\n                if(recaptchaResponce === \"\"){\r\n                    messageBox.addClass(\"active\");\r\n                    messageBox.html(mod_seoclick_forms_language_variables.captcha_validation_error);\r\n\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        messageBox.addClass(\"active\");\r\n\r\n        if (files_data !== undefined) {\r\n            files_data = files_data.files;\r\n\r\n            let check = checkFiles(files_data, form);\r\n\r\n            if (!check.valid) {\r\n                messageBox.html(check.message);\r\n                return 0;\r\n            }\r\n            for (let i = 0; i < files_data.length; i++) {\r\n                formData.append(\"file_\" + i, files_data[i]);\r\n            }\r\n        }\r\n\r\n        data = form.serializeArray();\r\n        $.each(data, function (key, input) {\r\n            formData.append(input.name, input.value);\r\n        });\r\n\r\n        //Добавляем параметры запроса\r\n        formData.append('option', 'com_ajax');\r\n        formData.append('module', 'seoclick_forms');\r\n        formData.append('format', 'json');\r\n        formData.append('g-recaptcha-response', recaptchaResponce);\r\n\r\n        //Прокрутка окна браузера до окна сообщений формы\r\n        if ($(formContainer).hasClass(\"seoclick-forms-popup-wrap\")) {\r\n            $(formContainer).find(\".container\").animate({\r\n                scrollTop: 0\r\n            }, 300);\r\n        } else {\r\n            $('html, body').animate({\r\n                scrollTop: formContainer.offset().top - 200\r\n            }, 300);\r\n        }\r\n\r\n        sendData(formData, formParams, messageBox);\r\n    }\r\n\r\n    //функция отправки данных на сервер\r\n    function sendData(formData, formParams, messageBox) {\r\n\r\n        messageBox.html(mod_seoclick_forms_language_variables.sending_text);\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            data: formData,\r\n            processData: false,\r\n            contentType: false,\r\n\r\n            success: function (respond) {\r\n\r\n                if (respond.message !== null) {\r\n                    messageBox.html(respond.message);\r\n                } else {\r\n                    messageBox.html(respond.data);\r\n                }\r\n            },\r\n            error: function (jqXHR, textStatus) {\r\n                messageBox.html('AJAX error: ' + textStatus);\r\n            },\r\n            complete: function () {\r\n                if (Number(formParams.recaptchaEnabled)) grecaptcha.reset(formParams.captchaWidgetID);\r\n            }\r\n        });\r\n    }\r\n});"]}