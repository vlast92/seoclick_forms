{"version":3,"sources":["../../sources/js/seoclick_forms.js"],"names":["renderRecaptcha","jQuery","$","each","index","captcha","widgetId","grecaptcha","render","data","submitSeoclickForm","token","module_id","getCookie","deleteCookie","submit","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","options","expires","d","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propName","propValue","ready","inputs","sitePattern","phonePattern","emailPattern","forms","default_site_tooltip_text","default_email_tooltip_text","default_phone_tooltip_text","form","find","setEvents","on","validateForm","checkInputPatterns","input","def_pattern","def_tooltip_text","pattern","attr","tooltip","response","command","container","closest","after","next","hide","show","css","top","getBoundingClientRect","bottom","left","animate","opacity","input_obj","data_type","validation","checkPasteText","checkPressedKey","check","checkPattern","val","removeClass","event","originalEvent","clipboardData","getData","getPattern","test","preventDefault","e","ctrlKey","altKey","metaKey","chr","getChar","code","which","keyCode","String","fromCharCode","charCode","inputData","addClass","checkFiles","files","responce","message","valid","file","file_size","size","max_size","Math","round","formData","FormData","formParams","window","formContainer","messageBox","files_data","recaptchaResponce","Number","recaptchaEnabled","recaptchaType","captchaWidgetID","getResponse","execute","html","i","length","append","serializeArray","key","hasClass","scrollTop","offset","sendData","ajax","type","processData","contentType","success","respond","error","jqXHR","textStatus","complete","reset"],"mappings":"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","file":"seoclick_forms.js","sourcesContent":["let renderRecaptcha = function () {\r\n    jQuery(function ($) {\r\n        $.each($('.g-recaptcha.seoclick'), function (index, captcha) {\r\n            var widgetId = grecaptcha.render(captcha);\r\n\r\n            $(captcha).data('recaptcha-widget-id', widgetId);\r\n        });\r\n    });\r\n};\r\n\r\nfunction submitSeoclickForm(token){\r\n\r\n    var module_id = getCookie('seoclick_send_form_id');\r\n\r\n    deleteCookie('seoclick_send_form_id');\r\n    jQuery(`#seoclick-form_${module_id} form`).submit();\r\n}\r\n// возвращает cookie с именем name, если есть, если нет, то undefined\r\nfunction getCookie(name) {\r\n    let matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\nfunction setCookie(name, value, options) {\r\n    options = options || {};\r\n\r\n    let expires = options.expires;\r\n\r\n    if (typeof expires === \"number\" && expires) {\r\n        let d = new Date();\r\n        d.setTime(d.getTime() + expires * 1000);\r\n        expires = options.expires = d;\r\n    }\r\n    if (expires && expires.toUTCString) {\r\n        options.expires = expires.toUTCString();\r\n    }\r\n\r\n    value = encodeURIComponent(value);\r\n\r\n    let updatedCookie = name + \"=\" + value;\r\n\r\n    for (let propName in options) {\r\n        updatedCookie += \"; \" + propName;\r\n        let propValue = options[propName];\r\n        if (propValue !== true) {\r\n            updatedCookie += \"=\" + propValue;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\nfunction deleteCookie(name) {\r\n    setCookie(name, \"\", {\r\n        expires: -1\r\n    })\r\n}\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    let inputs,\r\n        sitePattern = \"^[\\\\w \\\\.]+[\\\\.]{1}[\\\\D]{2,4}$\",\r\n        phonePattern = \"^[\\\\+ \\\\- \\\\( \\\\d \\\\) \\\\s]{7,}\",\r\n        emailPattern = \"^[\\\\w \\\\.]+[@]{1}[\\\\w]+[\\\\.]{1}[\\\\D]{2,4}$\",\r\n        forms = $(\".form-validate\"),\r\n        default_site_tooltip_text = \"Адрес должен быть в формате site.domain\",\r\n        default_email_tooltip_text = \"Email должен быть в формате mailbox@mail.domain\",\r\n        default_phone_tooltip_text = \"Минимальная длина телефона - 7 символов. Разрешен ввод только цифр, пробелов и символов: (, ), -, +\";\r\n\r\n    $.each(forms, function (index, form) {\r\n\r\n        //получаем валиируемые поля формы\r\n        inputs = $(form).find(\".validate\");\r\n\r\n        //вызываем функцию установки обработчиков на поля формы\r\n        setEvents(inputs);\r\n        //вешам обработчик отправки формы\r\n        $(form).on(\"submit\", validateForm);\r\n    });\r\n\r\n    /*\r\n    * Функция проверяет атрибуты pattern и data-tooltip\r\n    * и в случае их отсутсвия присваивает им значения\r\n    * по умолчанию при их наличии и возвращает true\r\n    * иначе false\r\n    * */\r\n    function checkInputPatterns(input, def_pattern, def_tooltip_text) {\r\n\r\n        let pattern = input.attr(\"pattern\"),\r\n            tooltip = input.data(\"tooltip\"),\r\n            response = {pattern: false, tooltip: false};\r\n\r\n        if (pattern === undefined) {\r\n            if (def_pattern !== undefined) {\r\n                input.attr(\"pattern\", def_pattern);\r\n                response.pattern = true;\r\n            } else {\r\n                response.pattern = false;\r\n            }\r\n        } else {\r\n            response.pattern = true;\r\n        }\r\n\r\n        if (tooltip === undefined) {\r\n            if (def_tooltip_text !== undefined) {\r\n                input.data(\"tooltip\", def_tooltip_text);\r\n                response.tooltip = true;\r\n            } else {\r\n                response.tooltip = false;\r\n            }\r\n        } else {\r\n            response.tooltip = true;\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n    /*\r\n    * Функция управления подсказками\r\n    * */\r\n    function tooltip(input, command) {\r\n\r\n        let container = input.closest('.form-validate');\r\n\r\n        switch (command) {\r\n            case 'create':\r\n                input.after(\"<div class='invalid-tooltip'><div>\" + input.data(\"tooltip\") + \"</div></div>\");\r\n                input.next().hide();\r\n                break;\r\n            case 'show':\r\n                input.next().show();\r\n                input.next().css({\r\n                    top: input[0].getBoundingClientRect().bottom - container[0].getBoundingClientRect().top + 8,\r\n                    left: input[0].getBoundingClientRect().left - container[0].getBoundingClientRect().left\r\n                });\r\n                input.next().animate({\r\n                    opacity: 1\r\n                }, 300, () => {\r\n                    input.next().show();\r\n                });\r\n                break;\r\n            case 'hide':\r\n                input.next().animate({\r\n                    opacity: 0\r\n                }, 300, () => {\r\n                    input.next().hide();\r\n                });\r\n                break;\r\n        }\r\n    }\r\n\r\n    //функция установки обработчиков полей формы\r\n    function setEvents(inputs) {\r\n\r\n        $.each(inputs, function (index, input) {\r\n\r\n            let input_obj = $(input),\r\n                data_type = input_obj.attr(\"data-validate\"),\r\n                validation;\r\n\r\n            //устанавливвваем шаблоны для полей формы\r\n            switch (data_type) {\r\n                case \"site\":\r\n                    validation = checkInputPatterns(input_obj, sitePattern, default_site_tooltip_text);\r\n                    break;\r\n                case \"email\":\r\n                    validation = checkInputPatterns(input_obj, emailPattern, default_email_tooltip_text);\r\n                    break;\r\n                case \"phone\":\r\n                    validation = checkInputPatterns(input_obj, phonePattern, default_phone_tooltip_text);\r\n                    input_obj.on(\"paste\", checkPasteText);\r\n                    input_obj.on(\"keypress\", checkPressedKey);\r\n                    break;\r\n                default:\r\n                    validation = checkInputPatterns(input_obj);\r\n                    if (!validation.tooltip && !validation.pattern) return true;\r\n            }\r\n            if (validation.tooltip) {\r\n                tooltip(input_obj, 'create');\r\n                input_obj.on(\"mouseenter\", function () {\r\n                    tooltip(input_obj, 'show');\r\n                });\r\n                input_obj.on(\"focusout mouseleave\", function () {\r\n\r\n                    tooltip(input_obj, 'hide');\r\n                });\r\n            }\r\n            //устанавливаем обработчик на проверку вводимых данных\r\n            if (validation.pattern) {\r\n                input_obj.on(\"change keyup\", function () {\r\n\r\n                    let check = checkPattern($(this));\r\n\r\n                    if (validation.tooltip) {\r\n                        if (!check) {\r\n                            tooltip(input_obj, 'show');\r\n                        } else {\r\n                            tooltip(input_obj, 'hide');\r\n                        }\r\n                    }\r\n                });\r\n                input_obj.on(\"focusout mouseleave\", function () {\r\n\r\n                    if (input_obj.val() === '') {\r\n                        input_obj.removeClass('invalid');\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    //функция проверки вставленные данные в поле формы по шаблону\r\n    function checkPasteText(event) {\r\n        let pattern,\r\n            data = event.originalEvent.clipboardData.getData('text/plain');\r\n\r\n        pattern = getPattern($(this));\r\n\r\n        //проверка данных по шаблону\r\n        if (!pattern.test(data)) {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    /*\r\n    * функция проверки нажатой клавиши\r\n    * Функция возвращет false на все клавиши,\r\n    * кроме цифр, знаков + - ( ) и пробелов\r\n    */\r\n    function checkPressedKey(event) {\r\n\r\n        let e = event;\r\n\r\n        if (e.ctrlKey || e.altKey || e.metaKey) {\r\n            return;\r\n        }\r\n\r\n        let chr = getChar(e);\r\n\r\n        // с null надо осторожно в неравенствах, т.к. например null >= '0' => true!\r\n        // на всякий случай лучше вынести проверку chr = null отдельно\r\n        if (chr === null) {\r\n            return;\r\n        }\r\n\r\n        if (chr < '0' || chr > '9') {\r\n            if (chr !== \"+\" && chr !== \"-\" && chr !== \"(\" && chr !== \")\" && chr !== \" \") {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    //функция возвращает код символа\r\n    function getChar(event) {\r\n\r\n        if (event.code === \"Space\" || event.code === \"Equal\" || event.code === \"Digit9\" || event.code === \"Digit0\") {\r\n            return 0;\r\n        }\r\n        if (event.which === null) { // IE\r\n            if (event.keyCode < 32) return null; // спец. символ\r\n            return String.fromCharCode(event.keyCode)\r\n        }\r\n\r\n        if (event.which !== 0 && event.charCode !== 0) { // все кроме IE\r\n            if (event.which < 32) return null; // спец. символ\r\n            return String.fromCharCode(event.which); // остальные\r\n        }\r\n\r\n        return null; // спец. символ\r\n    }\r\n\r\n    /*\r\n    * Функция проверки введенных данных по шаблону\r\n    * возвращает false если проверка не пройдена\r\n    */\r\n    function checkPattern(inputData) {\r\n\r\n        let value = inputData.val(), pattern;\r\n\r\n        pattern = new RegExp(inputData.attr(\"pattern\"));\r\n\r\n        //проверка данных по шаблону\r\n        if (!pattern.test(value)) {\r\n            inputData.addClass(\"invalid\");\r\n            return false;\r\n        } else {\r\n            inputData.removeClass(\"invalid\");\r\n            return true;\r\n        }\r\n    }\r\n\r\n    //Валидация вложений формы\r\n    function checkFiles(files, form) {\r\n\r\n\r\n        let responce = {message: \"\", valid: true};\r\n\r\n        $.each(files, function (index, file) {\r\n\r\n            let file_size = file.size / 1000, max_size = form.find(\".file-input\").data(\"size\");\r\n\r\n            if (file_size > max_size) {\r\n\r\n                responce.message = \"Размер файла \" + file.name + \" превышает допустимый размер в \" + max_size + \" кб. Его размер \" +\r\n\r\n                    Math.round(file_size) + \" кб.\";\r\n                responce.valid = false;\r\n\r\n                return responce;\r\n            }\r\n        });\r\n\r\n        return responce;\r\n    }\r\n\r\n    //Валидация формы\r\n    function validateForm(event) {\r\n\r\n        event.preventDefault();\r\n\r\n        let data,\r\n            formData = new FormData(),\r\n            form = $(this),\r\n            formParams = window[\"seoclickForm_\" + form.data(\"moduleid\")],\r\n            formContainer = form.closest(\".seoclick-forms\"),\r\n            messageBox = formContainer.find(\".message-container\"),\r\n            files_data = form.find('.file-input')[0],\r\n            recaptchaResponce;\r\n\r\n        if (Number(formParams.recaptchaEnabled)){\r\n\r\n            if (formParams.recaptchaType === 'invisible'){\r\n                formParams.captchaWidgetID = $(\".invisible-recaptcha\").data(\"recaptcha-widget-id\");\r\n\r\n                recaptchaResponce = grecaptcha.getResponse(formParams.captchaWidgetID);\r\n                if(recaptchaResponce=== \"\"){\r\n\r\n                    setCookie(\"seoclick_send_form_id\", form.data(\"moduleid\"));\r\n                    grecaptcha.execute(formParams.captchaWidgetID);\r\n\r\n                    return false;\r\n                }\r\n            }else{\r\n                formParams.captchaWidgetID = form.find(\".g-recaptcha\").data(\"recaptcha-widget-id\");\r\n                recaptchaResponce = grecaptcha.getResponse(formParams.captchaWidgetID);\r\n                if(recaptchaResponce === \"\"){\r\n                    messageBox.addClass(\"active\");\r\n                    messageBox.html(\"Не пройдена проверка 'Я не робот'\");\r\n\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        messageBox.addClass(\"active\");\r\n\r\n        if (files_data !== undefined) {\r\n            files_data = files_data.files;\r\n\r\n            let check = checkFiles(files_data, form);\r\n\r\n            if (!check.valid) {\r\n                messageBox.html(check.message);\r\n                return 0;\r\n            }\r\n            for (let i = 0; i < files_data.length; i++) {\r\n                formData.append(\"file_\" + i, files_data[i]);\r\n            }\r\n        }\r\n\r\n        data = form.serializeArray();\r\n        $.each(data, function (key, input) {\r\n            formData.append(input.name, input.value);\r\n        });\r\n\r\n        //Добавляем параметры запроса\r\n        formData.append('option', 'com_ajax');\r\n        formData.append('module', 'seoclick_forms');\r\n        formData.append('format', 'json');\r\n        formData.append('g-recaptcha-response', recaptchaResponce);\r\n\r\n        //Прокрутка окна браузера до окна сообщений формы\r\n        if ($(formContainer).hasClass(\"seoclick-forms-popup-wrap\")) {\r\n            $(formContainer).find(\".container\").animate({\r\n                scrollTop: 0\r\n            }, 300);\r\n        } else {\r\n            $('html, body').animate({\r\n                scrollTop: formContainer.offset().top - 200\r\n            }, 300);\r\n        }\r\n\r\n        sendData(formData, formParams, messageBox);\r\n    }\r\n\r\n    //функция отправки данных на сервер\r\n    function sendData(formData, formParams, messageBox) {\r\n\r\n        messageBox.html(\"Отправка...\");\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            data: formData,\r\n            processData: false,\r\n            contentType: false,\r\n\r\n            success: function (respond) {\r\n\r\n                if (respond.message !== null) {\r\n                    messageBox.html(respond.message);\r\n                } else {\r\n                    messageBox.html(respond.data);\r\n                }\r\n            },\r\n            error: function (jqXHR, textStatus) {\r\n                messageBox.html('Ошибка AJAX запроса: ' + textStatus);\r\n            },\r\n            complete: function () {\r\n                if (Number(formParams.recaptchaEnabled)) grecaptcha.reset(formParams.captchaWidgetID);\r\n            }\r\n        });\r\n    }\r\n});"]}