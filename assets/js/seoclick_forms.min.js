"use strict";jQuery(document).ready(function($){var inputs=void 0,sitePattern="^[\\w \\.]+[\\.]{1}[\\D]{2,4}$",phonePattern="^[\\d \\+]{1,5}[\\( \\d \\) \\s]{1,10}[-?\\d \\s]+$",emailPattern="^[\\w \\.]+[@]{1}[\\w]+[\\.]{1}[\\D]{2,4}$",forms=$(".form-validate");$.each(forms,function(index,form){inputs=$(form).find(".validate");setEvents(inputs);$(form).on("submit",sendData)});function setEvents(inputs){$.each(inputs,function(index,input){var name=$(input).attr("data-validate");switch(name){case"site":$(input).attr("pattern",sitePattern);break;case"email":$(input).attr("pattern",emailPattern);break;case"phone":$(input).attr("pattern",phonePattern);$(input).on("paste",checkPasteText);$(input).on("keypress",checkPressedKey);break;default:return true}$(input).on("focusin change keyup",function(){checkPattern($(this))})})}function checkPasteText(event){console.log(event);var pattern=void 0,data=event.originalEvent.clipboardData.getData("text/plain");pattern=getPattern($(this));if(!pattern.test(data)){event.preventDefault()}}function checkPressedKey(event){var e=event;if(e.ctrlKey||e.altKey||e.metaKey){return}var chr=getChar(e);if(chr===null){return}if(chr<"0"||chr>"9"){if(chr!=="+"&&chr!=="-"&&chr!=="("&&chr!==")"&&chr!==" "){return false}}}function getChar(event){if(event.code==="Space"||event.code==="Equal"||event.code==="Digit9"||event.code==="Digit0"){return 0}if(event.which===null){if(event.keyCode<32)return null;return String.fromCharCode(event.keyCode)}if(event.which!==0&&event.charCode!==0){if(event.which<32)return null;return String.fromCharCode(event.which)}return null}function checkPattern(inputData){var value=$(inputData).val(),pattern=void 0;pattern=getPattern(inputData);if(!pattern.test(value)){inputData.addClass("invalid");return false}else{inputData.removeClass("invalid");return true}}function getPattern(inputData){var pattern=void 0;switch($(inputData).attr("data-validate")){case"phone":pattern=new RegExp(phonePattern);break;case"email":pattern=new RegExp(emailPattern);break;case"site":pattern=new RegExp(sitePattern);break;default:return 0}return pattern}function sendData(event){event.preventDefault();var form=$(this),capchaResponse=void 0,request=void 0,data=void 0,formContainer=form.closest(".seoclick-forms"),messageBox=formContainer.find(".message-container");data=form.serializeArray();data=objectifyFormData(data);messageBox.addClass("active");if($(formContainer).hasClass("seoclick-forms-popup-wrap")){$(formContainer).find(".container").animate({scrollTop:0},300)}else{$("html, body").animate({scrollTop:formContainer.offset().top-200},300)}capchaResponse=form.find(".g-recaptcha-response").val();if(capchaResponse===""){messageBox.html("Не пройдена проверка 'Я не робот'");return false}messageBox.html("Отправка...");request={option:"com_ajax",module:"seoclick_forms",format:"json","g-recaptcha-response":capchaResponse,data:data};$.ajax({type:"POST",data:request,success:function success(respond){messageBox.html(respond.data)},error:function error(jqXHR,textStatus){messageBox.html("Ошибка AJAX запроса: "+textStatus)}});grecaptcha.reset();return true}function objectifyFormData(formArray){var returnArray={};for(var i=0;i<formArray.length;i++){returnArray[formArray[i]["name"]]=formArray[i]["value"]}return returnArray}});